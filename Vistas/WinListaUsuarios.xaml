<Window x:Class="Vistas.WinListaUsuarios"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:coleccionUsuario="clr-namespace:ClasesBase;assembly=ClasesBase"
        xmlns:componentModel="clr-namespace:System.ComponentModel;assembly=WindowsBase"
        Title="Listado de Usuarios" Height="369" Width="519"
        WindowStartupLocation="CenterScreen" Closing="Window_Closing">

    <Window.Resources>
        <ObjectDataProvider 
            x:Key="LIST_USER"
            ObjectType="{x:Type coleccionUsuario:TrabajarUsuario}"
            MethodName="TraerUsuarios"
        />

        <CollectionViewSource x:Key="VISTA_USER"
            Source="{StaticResource ResourceKey=LIST_USER}"
            Filter="eventVistaUsuario_Filter"
        >
            <CollectionViewSource.SortDescriptions>
                <componentModel:SortDescription PropertyName="Usu_Username" Direction="Ascending"/>
            </CollectionViewSource.SortDescriptions>

        </CollectionViewSource>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="173*" />
            <ColumnDefinition Width="29*" />
            <ColumnDefinition Width="275*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="57" />
            <RowDefinition Height="253*" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Margin="0,18,0,0" Grid.ColumnSpan="3" Background="LightBlue">
            <Label Content="Nombre de Usuario:" VerticalAlignment="Center" FontSize="12" />

            <TextBox Name="txtFiltro" Width="200" TextChanged="txtFiltro_TextChanged" VerticalAlignment="Center"/>
        </StackPanel>

        <DataGrid Grid.Row="1" Name="dgUsuarios"
                  ItemsSource="{Binding Source={StaticResource VISTA_USER}}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  Background="LightBlue" Margin="0,18,0,63" Grid.ColumnSpan="3">

            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Usu_ID}" />
                <DataGridTextColumn Header="Nombre de Usuario" Binding="{Binding Usu_NombreUsuario}" Width="150" />
                <DataGridTextColumn Header="Apellido y Nombre" Binding="{Binding Usu_ApellidoNombre}" Width="180" />
                <DataGridTextColumn Header="Rol" Binding="{Binding Rol_Descripcion}" Width="120" />
            </DataGrid.Columns>
        </DataGrid>
        <Button Style="{StaticResource btnAtras}" Content="Atras" Grid.Row="1" Height="33" HorizontalAlignment="Left" Margin="0,208,0,0" Name="btnAtras" VerticalAlignment="Top" Width="86" Click="btnAtras_Click" Grid.Column="2" />
    </Grid>
</Window>
